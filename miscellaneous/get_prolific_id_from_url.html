
<!DOCTYPE html>
<html>
    <head>
        <title>Getting prolific ID from URL</title>
        <script src="../jspsych-6.1.0/jspsych.js"></script>
        <script src="../jspsych-6.1.0/plugins/jspsych-html-keyboard-response.js"></script>
        <link href="../jspsych-6.1.0/css/jspsych.css" rel="stylesheet" type="text/css"></link>

    </head>
    <body>
      <script>

      var prolific_id = "none"
      var study_id = "none"
      var session_id = "none"
      url = window.location.href;
      if (url.includes("?")) {
        var params = url.split("?")[1].split("&");
        console.log(params)
        for (var i=0; i<params.length; i++)
        {
          var name = params[i].split("=")[0];
          var value = params[i].split("=")[1];
          if (name=="PROLIFIC_PID") {prolific_id = value}
          if (name=="STUDY_ID") {study_id = value}
          if (name=="SESSION_ID") {session_id = value}
        }
      }

      var info_screen = {
        type: 'html-keyboard-response',
        choices:jsPsych.NO_KEYS,
        stimulus: "<h3>Your details</h3>\
        <p>Your PROLIFIC_PID: " + prolific_id + "</p>\
        <p>Your STUDY_ID: " + study_id + "</p>\
        <p>Your SESSION_ID: " + session_id + "</p>"
      }

      jsPsych.init({
          timeline: [info_screen]
        });


      </script>
    </body>

</html>
